{"version":3,"sources":["contactController.js"],"names":["contact","req","res","body","fname","email","message","newContact","contactModel","save","process","env","EMAIL_USER","json","Message","formData","status","Error"],"mappings":";;;;;;;AAAA;;AACA;;;;AACO,IAAMA,OAAO,GAAG,SAAVA,OAAU,CAAMC,GAAN,EAAUC,GAAV;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,sBACeD,GAAG,CAACE,IADnB,EACXC,KADW,aACXA,KADW,EACJC,KADI,aACJA,KADI,EACGC,OADH,aACGA,OADH;AAAA;AAGTC,UAAAA,UAHS,GAGI,IAAKC,yBAAL,CAAkB;AACjCJ,YAAAA,KAAK,EAALA,KADiC;AAEjCC,YAAAA,KAAK,EAALA,KAFiC;AAGjCC,YAAAA,OAAO,EAAPA;AAHiC,WAAlB,CAHJ;AAAA;AAAA,0CAQTC,UAAU,CAACE,IAAX,EARS;;AAAA;AAAA;AAAA,0CAST,uBAAUC,OAAO,CAACC,GAAR,CAAYC,UAAtB,EAAkC,6BAAlC,oEAA4HP,KAA5H,EATS;;AAAA;AAAA;AAAA,0CAUT,mCAAsBA,KAAtB,EAA6BD,KAA7B,CAVS;;AAAA;AAWfF,UAAAA,GAAG,CAACW,IAAJ,CAAS;AAACC,YAAAA,OAAO,EAAC,6BAAT;AAAwCC,YAAAA,QAAQ,EAACR;AAAjD,WAAT;AAXe;AAAA;;AAAA;AAAA;AAAA;AAafL,UAAAA,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBH,IAAhB,CAAqB;AAACP,YAAAA,OAAO,EAAC,uBAAT;AAAkCW,YAAAA,KAAK,EAAC,YAAMX;AAA9C,WAArB;;AAbe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAhB","sourcesContent":["import contactModel from \"../models/contactUsForm.js\"\r\nimport{ sendEmail, sendConfirmationEmail } from '../utils/mailer.js'\r\nexport const contact = async(req,res) =>{\r\n    const { fname, email, message } = req.body\r\n    try {\r\n        const newContact = new  contactModel({\r\n            fname,\r\n            email,\r\n            message\r\n        })\r\n        await newContact.save()\r\n        await sendEmail(process.env.EMAIL_USER, 'New Newsletter Subscription', `A new user has subscribed to the newsletter with email: ${email}`)\r\n        await sendConfirmationEmail(email, fname)\r\n        res.json({Message:\"Thank you for contacting us\", formData:newContact})\r\n    } catch (error) {\r\n        res.status(500).json({message:'Internal server error', Error:error.message})\r\n    }\r\n}\r\n\r\n"],"file":"contactController.dev.js"}