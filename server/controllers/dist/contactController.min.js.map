{"version":3,"sources":["contactController.js"],"names":["_contactUsForm","_interopRequireDefault","require","_mailer","contact","req","res","_req$body","fname","email","message","newContact","regeneratorRuntime","async","_context","prev","next","body","contactModel","awrap","save","sendEmail","process","env","EMAIL_USER","concat","sendConfirmationEmail","json","Message","formData","t0","status","Error","stop"],"mappings":"2FAAA,IAAAA,eAAAC,uBAAAC,QAAA,+BACAC,QAAAD,QAAA,8FACO,IAAME,QAAU,SAAMC,EAAIC,GAAV,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAC,mBAAAC,MAAA,SAAAC,GAAA,OAAA,OAAAA,EAAAC,KAAAD,EAAAE,MAAA,KAAA,EAAA,OAAAT,EACeF,EAAIY,KAA9BT,EADWD,EACXC,MAAOC,EADIF,EACJE,MAAOC,EADHH,EACGG,QADHI,EAAAC,KAAA,EAGTJ,EAAa,IAAKO,eAAAA,QAAa,CACjCV,MAAAA,EANZC,MAAAA,EAQYC,QAAAA,IANWI,EAAAE,KAAA,EAAAJ,mBAAAO,MAQTR,EAAWS,QARF,KAAA,EAAA,OAAAN,EAAAE,KAAA,EAAAJ,mBAAAO,OAST,EAAAhB,QAAAkB,WAAUC,QAAQC,IAAIC,WAAY,8BAAlC,2DAAAC,OAA4HhB,KATnH,KAAA,EAAA,OAAAK,EAAAE,KAAA,EAAAJ,mBAAAO,OAUT,EAAAhB,QAAAuB,uBAAsBjB,EAAOD,IAVpB,KAAA,EAAVJ,EAAOuB,KAAG,CAAAC,QAAVxB,8BAAUyB,SAAAlB,IAAAG,EAAAE,KAAA,GAAA,MAAA,KAAA,GAAAF,EAAAC,KAAA,GAAAD,EAAAgB,GAAAhB,EAAA,MAAA,GAafR,EAAIyB,OAAO,KAAKJ,KAAK,CAACjB,QAAQ,wBAAyBsB,MAAMlB,EAAAgB,GAAMpB,UAbpD,KAAA,GAAA,IAAA,MAAA,OAAAI,EAAAmB,SAAA,KAAA,KAAA,CAAA,CAAA,EAAA","file":"contactController.min.js","sourcesContent":["import contactModel from \"../models/contactUsForm.js\"\r\nimport{ sendEmail, sendConfirmationEmail } from '../utils/mailer.js'\r\nexport const contact = async(req,res) =>{\r\n    const { fname, email, message } = req.body\r\n    try {\r\n        const newContact = new  contactModel({\r\n            fname,\r\n            email,\r\n            message\r\n        })\r\n        await newContact.save()\r\n        await sendEmail(process.env.EMAIL_USER, 'New Newsletter Subscription', `A new user has subscribed to the newsletter with email: ${email}`)\r\n        await sendConfirmationEmail(email, fname)\r\n        res.json({Message:\"Thank you for contacting us\", formData:newContact})\r\n    } catch (error) {\r\n        res.status(500).json({message:'Internal server error', Error:error.message})\r\n    }\r\n}\r\n\r\n"]}